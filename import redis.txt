import redis
import random
import string

# Connect to Redis
r = redis.Redis(host='localhost', port=6379, db=0)

# Generate OTP
def generate_otp()
    return ''.join(random.choices(string.digits, k=6))

# Store OTP in Redis
def store_otp_in_redis(email, otp)
    r.set(email, otp)
    r.expire(email, 300)  # Set expiration time (e.g., 5 minutes)

# Verify OTP
def verify_otp(email, otp)
    stored_otp = r.get(email)
    if stored_otp and stored_otp.decode('utf-8') == otp
        return True
    return False
